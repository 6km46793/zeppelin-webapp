<form id="{{paragraph.id}}_form" role="form"
      ng-show="!paragraph.config.tableHide"
      class=" paragraphForm form-horizontal row">
  <div class="form-group col-sm-6 col-md-6 col-lg-4"
       ng-repeat="formulaire in paragraph.settings.forms | toArray"
       ng-init="loadForm(formulaire, paragraph.settings.params)">

       <h3>{{formulaire.name | ZhifuCtrl}}</h3>
       <h2>{{nameJudge(formulaire.name, 'name')}}</h2>

    <label class="control-label input-sm" ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }">{{nameJudge(formulaire.name, 'name')}}</label>
    <div>
      <input class="form-control input-sm"
             ng-if="!paragraph.settings.forms[formulaire.name].options"
             ng-enter="runParagraph(getEditorValue())"
             ng-model="paragraph.settings.params[formulaire.name]"
             ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
             name="{{formulaire.name}}" />
    </div>
    <div ng-if="paragraph.config.runOnSelectionChange == true">
      <select class="form-control input-sm"
              ng-if="paragraph.settings.forms[formulaire.name].options && paragraph.settings.forms[formulaire.name].type != 'checkbox'"
              ng-change="runParagraph(getEditorValue())"
              ng-model="paragraph.settings.params[formulaire.name]"
              ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
              name="{{formulaire.name}}"
              ng-options="option.value as (option.displayName||option.value) for option in paragraph.settings.forms[formulaire.name].options">
      </select>
    </div>
    <div ng-if="paragraph.config.runOnSelectionChange == false">
      <select class="form-control input-sm"
              ng-if="paragraph.settings.forms[formulaire.name].options && paragraph.settings.forms[formulaire.name].type != 'checkbox'"
              ng-enter="runParagraph(getEditorValue())"
              ng-model="paragraph.settings.params[formulaire.name]"
              ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
              name="{{formulaire.name}}"
              ng-options="option.value as (option.displayName||option.value) for option in paragraph.settings.forms[formulaire.name].options">
      </select>
    </div>
    <div ng-if="paragraph.config.runOnSelectionChange == true &&
         paragraph.settings.forms[formulaire.name].type == 'checkbox'">
      <label ng-repeat="option in paragraph.settings.forms[formulaire.name].options"
             class="checkbox-item input-sm">
        <input type="checkbox"
               ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
               ng-checked="paragraph.settings.params[formulaire.name].indexOf(option.value) > -1"
               ng-click="toggleCheckbox(formulaire, option, false); runParagraph(getEditorValue())"/> {{option.displayName||option.value}}
      </label>
    </div>
    <div ng-if="paragraph.config.runOnSelectionChange == false &&
         paragraph.settings.forms[formulaire.name].type == 'checkbox'">
      <label ng-repeat="option in paragraph.settings.forms[formulaire.name].options"
             class="checkbox-item input-sm">
        <input type="checkbox"
               ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
               ng-checked="paragraph.settings.params[formulaire.name].indexOf(option.value) > -1"
               ng-enter="runParagraph(getEditorValue())"
               ng-click="toggleCheckbox(formulaire, option, false)"/> {{option.displayName||option.value}}
      </label>
    </div>
  </div>
</form>
