<form id="{{paragraph.id}}_form" role="form" ng-show="!paragraph.config.tableHide" class="paragraphForm form-horizontal row">
    <div class="form-group col-sm-6 col-md-6 col-lg-zhifu_7"
         ng-repeat="formulaire in paragraph.settings.forms | toArray"
         ng-init="loadForm(formulaire, paragraph.settings.params)">
        <h6>{{formulaire.name}}</h6>
        <!-- 对导出的 json 文件中的 forms 列表进行循环 -->
        <!-- 名字：取 以 "-" 分隔的第一个参数 -->
        <label class="control-label input-sm" ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }">{{formulaire.name}}</label>

        <div>
        <!-- 输入框 -->
        <input class="form-control input-sm"
             ng-if="!paragraph.settings.forms[formulaire.name].options"
             ng-enter="runParagraph(getEditorValue())"
             ng-model="paragraph.settings.params[formulaire.name]"
             ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
             name="{{formulaire.name}}">
        </div>


        <!-- 下拉框 -->
        <!-- unOnSelectionChange == true && type = 'select'  -->
        <div ng-if="paragraph.config.runOnSelectionChange == true">
          <select class="form-control input-sm"
                  ng-if="paragraph.settings.forms[formulaire.name].options && paragraph.settings.forms[formulaire.name].type != 'checkbox'"
                  ng-change="runParagraph(getEditorValue())"
                  ng-model="paragraph.settings.params[formulaire.name]"
                  ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
                  name="{{formulaire.name}}"
                  ng-options="option.value as (option.displayName||option.value) for option in paragraph.settings.forms[formulaire.name].options">
          </select>
        </div>
        <!-- unOnSelectionChange == false && type = 'select' -->
        <div ng-if="paragraph.config.runOnSelectionChange == false">
          <select class="form-control input-sm"
                  ng-if="paragraph.settings.forms[formulaire.name].options && paragraph.settings.forms[formulaire.name].type != 'checkbox'"
                  ng-enter="runParagraph(getEditorValue())"
                  ng-model="paragraph.settings.params[formulaire.name]"
                  ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
                  name="{{formulaire.name}}"
                  ng-options="option.value as (option.displayName||option.value) for option in paragraph.settings.forms[formulaire.name].options">
          </select>
        </div>


        <!-- 复选框 -->
        <!-- unOnSelectionChange == true && type = 'checkbox' -->
        <!-- <div ng-if="paragraph.config.runOnSelectionChange == true && paragraph.settings.forms[formulaire.name].type == 'checkbox'">
          <label ng-repeat="option in paragraph.settings.forms[formulaire.name].options" class="checkbox-item input-sm">
            <input type="checkbox"
                   ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
                   ng-checked="paragraph.settings.params[formulaire.name].indexOf(option.value) > -1"
                   ng-click="toggleCheckbox(formulaire, option, false); runParagraph(getEditorValue())"> {{option.displayName||option.value}}
          </label>
        </div> -->
        <!-- <div ng-if="paragraph.config.runOnSelectionChange == true && paragraph.settings.forms[formulaire.name].type == 'DropDownCheckBox'"> -->
        <div ng-if="paragraph.config.runOnSelectionChange == true && paragraph.settings.forms[formulaire.name].type == 'checkbox'">
          <div class="btn-group">
            <button type="button" name="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">action<span class="caret"></span></button>
            <ul class="dropdown-menu">
              <!-- <li ng-repeat="option in paragraph.settings.forms[formulaire.name].options">
                <input type="checkbox"
                       ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
                       ng-checked="paragraph.settings.params[formulaire.name].indexOf(option.value) > -1"
                       ng-click="toggleCheckbox(formulaire, option, false); runParagraphFromButton(getEditorValue())"/> {{option.displayName||option.value}}
              </li> -->
              <label ng-repeat="option in paragraph.settings.forms[formulaire.name].options">
                <li>
                    <input type="checkbox"
                           ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
                           ng-checked="paragraph.settings.params[formulaire.name].indexOf(option.value) > -1"
                           ng-click="toggleCheckbox(formulaire, option, false); runParagraph(getEditorValue())"> {{option.displayName||option.value}}
                </li>
              </label>
            </ul>
          </div>
        </div>

        <!-- unOnSelectionChange == false && type = 'checkbox' -->
        <div ng-if="paragraph.config.runOnSelectionChange == false && paragraph.settings.forms[formulaire.name].type == 'checkbox'">
          <label ng-repeat="option in paragraph.settings.forms[formulaire.name].options" class="checkbox-item input-sm">
            <input type="checkbox" ng-class="{'disable': paragraph.status == 'RUNNING' || paragraph.status == 'PENDING' }"
                   ng-checked="paragraph.settings.params[formulaire.name].indexOf(option.value) > -1"
                   ng-enter="runParagraph(getEditorValue())"
                   ng-click="toggleCheckbox(formulaire, option, false)"> {{option.displayName||option.value}}
          </label>
        </div>
    </div>
</form>
